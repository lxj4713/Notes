<!-- toc -->
[toc]
<!-- toc -->





# 目录与路径

[每天一个linux命令（23）：Linux 目录结构 - peida - 博客园](https://app.yinxiang.com/shard/s45/nl/20603666/5405180f-f7d1-4aae-84e5-496a986d00b5)

## linux目录

| 路径       | 说明                                               |
| ---------- | -------------------------------------------------- |
| /          | 根目录                                             |
| /boot      | 存放内核以及启动所需的文件                         |
| /dev       | 存放设备与接口文件                                 |
| /etc       | 存放系统配置文件                                   |
| /bin       | 存放必要命令                                       |
| /home      | 普通用户的宿主目录，用户数据                       |
| /lib       | 存放必要的运行库                                   |
| /mnt       | 存放临时的映射文件系统，通常用来挂载使用           |
| /proc      | 虚拟文件系统，如系统内核存储进程和网络状态信息     |
| /opt       | 放置第三方的软件                                   |
| /srv       | 一些网络服务的数据文件目录                         |
| /root      | 超级用户的主目录                                   |
| /sbin      | 存放系统管理程序                                   |
| /tmp       | 存放临时文件                                       |
| /usr       | 存放应用程序，命令程序文件，程序库，手册和其他文档 |
| /usr/local | 用户自行安装的软件                                 |
| /usr/share | 帮助说明文件，共享文件                             |
| /var       | 默认日志存放目录                                   |

## 目录相关操作: cd, pwd, mkdir，rmdir

**cd 变换目录( Change Directory)**

| 参数 | 作用|
| ---- | ---------------------- |
| .    | 此层目录               |
| ..   | 上层目录               |
| -    | 前一个工作目录         |
| ~    | 目前用户所有家目录     |

**pwd  显示当前路径(Print Working Directory )**

**mkdir 建立新目录 mkdir [选项] 目录  **

> -m 配置目录权限  
> -p 建立递归目录

**rmdir 删除空目录**

## 环境变量：$PATH

- [ ] TODO  

    > echo $PATH 查看环境变量



# 文件目录管理

## 文件与目录检视: ls

| 参数 | 作用                          |
| ---- | ----------------------------- |
| -l   | 查看详细信息,或ll             |
| -a   | 查看全部文件，包括隐藏文件 la |
| -h   | 查看大小单位为GB,MB,KB等      |
| -i   | 列出inode号                   |
| -n   | 列出UID与GID而非用户名与组名  |
| -R   | 列出子目录                    |
| -S   | 按文件大小排序                |
| -t   | 依时间排序                    |

## 复制 cp, 删除 rm, 移动或更名 mv

**cp  [选项] 源文件 目标文件**

| 参数   | 作用                                         |
| ------ | -------------------------------------------- |
| -d     | 若对象为“链接文件”，则保留该“链接文件”的属性 |
| -P     | 连同文件属性一起复制过去(备份常用)           |
| **-r** | **递归持续复制（用于目录）**                 |
| -a     | 等价于“dpr”选项                              |
| -f     | 强制执行                                     |
| -i     | 覆盖前询问                                   |

**rm 删除 文件或目录**

`rm -rf test.txt` 

**mv [选项] 源文件或目录 目标文件或目录  **

> -b 若覆盖文件，则覆盖前先进行备份  
~~~linux
mv file1 file2 file3 target_path   #移动多个文件  
mv file_name new_name    # 文件更名
~~~



# 文件及文件内容查看

## 查看文本文档内容: cat,  tac,  nl,  more,  less

cat 显示全部 cat [选项] [文件] 
| 参数 | 作用                    |
| ---- | ----------------------- |
| -n   | 列出行号,显示空白行号   |
| -b   | 列出行号,不显示空白行号 |

tac 由最后一行开始显示,cat反写

nl 显示内容及行号

more 分页查看
| 按键           | 作用                                                 |
| -------------- | ---------------------------------------------------- |
| 空格键 (space) | 代表向下翻一页                                       |
| Enter          | 代表向下翻 一行                                      |
| / 字符串       | 代表在这个显示癿内容弼中，向下搜寻 字符串 这个关键词 |
| :f             | 立刻显示出文件名以及目前显示癿行数                   |
| q              | 代表立刻离开 more ，丌再显示该档案内容               |
| b 或 [ctrl]-b  | 代表往回翻页，丌过这劢作叧对档案有用，对管线无用     |

less 和more一样,但是可以往前翻页, more [选项]文件
| 按键       | 作用                                    |
| ---------- | --------------------------------------- |
| 空格键     | 向下翻劢一页                            |
| [pagedown] | 向下翻劢一页                            |
| [pageup]   | 向上翻劢一页                            |
| /字符串    | 向下搜寻                                |
| ?字符串    | 向上搜寻                                |
| n          | 重复前一个搜寻 (与 / 或 ? 有关！)       |
| N          | 反复的重复前一个搜寻 (与 / 或 ? 有关！) |
| q          | 离开 less 这个程序                      |

tr命令 用于替换文本文件中的字符,  tr [原始字符] [目标字符]
~~~
cat config.config  | tr [a-z] [A-Z]      # 例如某个文本内容中的英文全部替换为大写
~~~



## 文本搜索: grep,  head,  tail,  cut， wc,  diff

**grep**

- [ ] TODO
  



**head 只显示前几行** 

> head [选项] [文件]



**ail 只显示最后几行**  

> -n 接数字,表示显示几行
~~~linux
tail -f config.config      # 持续刷新内容
head -n 10
head -n -10  #不显示最后2行
tail -n +10  #第10行开始显示(不显示最开始9行)
~~~

**cut 按“列”提取文本字符, cut [参数] 文本**

| 参数 | 作用                                               |
| ---- | -------------------------------------------------- |
| -b   | 以字节为单位进行分割 ,仅显示行中指定直接范围的内容 |
| -c   | 以字符为单位进行分割 , 仅显示行中指定范围的字符    |
| -d   | 自定义分隔符，默认为制表符”TAB”                    |
| -f   | 显示指定字段的内容 , 与-d一起使用                  |
| -n   | 取消分割多字节字符                                 |
~~~
cut -d: -f1 /etc/passwd    # -f参数来设置需要看的列数  -d参数来设置间隔符号  以冒号(:)为间隔符号的第一列内容
~~~

5. wc命令用于统计指定文本的行数、字数、字节数, wc [参数] 文本
    | 参数 | 作用         |
    | ---- | ------------ |
    | -l   | 只显示行数   |
    | -w   | 只显示单词数 |
    | -c   | 只显示字节数 |

6. diff 用于比较多个文本文件的差异, diff [参数] 文件
   
    ~~~
    diff --brief file_A.txt file_B.txt  # 使用diff --brief命令比较，判断文件是否相同
    diff -c file_A.txt file_B.txt     # 使用带有-c参数的diff命令来描述文件内容具体的不同
    ~~~

## 3.文件操作命令-touch, -stat，-file，-tar, -zip， -dd

1. touch 修改文档时间与建立新文档, - touch [选项] [文件]

    | 参数 | 作用 (文件时间)                           |
    | ---- | ----------------------------------------- |
    | -m   | 仅修改文件内容的修改时间（mtime）         |
    | -a   | 仅修改文件的读取时间(atime)               |
    | -d   | 同时修改atime与mtime   使用指定的日期时间 |
    |      | 文件权限或属性的更改时间（ctime）         |

2. stat用于查看文件的具体存储信息和时间等信息，stat 文件名

3. file命令用于查看文件的类型,也可以查看执行程序命, file 文件名

4. tar 对文件进行打包压缩或解压, tar [选项] [文件]
   
    | 参数 | 作用                   |
    | ---- | ---------------------- |
    | -c   | 创建压缩文件           |
    | -x   | 解开压缩文件           |
    | -t   | 查看压缩包内有哪些文件 |
    | -z   | 用Gzip压缩或解压       |
    | -j   | 用bzip2压缩或解压      |
    | -v   | 显示压缩或解压的过程   |
    | -f   | 目标文件名             |
    | -p   | 保留原始的权限与属性   |
    | -P   | 使用绝对路径来压缩     |
    | -C   | 指定解压到的目录       |
    ~~~linux
    tar -czvf etc.tar.gz /etc      # 压缩 /etc 目录下的文件
    tar -xzvf speed.log.tar.gz     # 解压 speed.log.tar.gz 文件   -xf
    tar xzvf etc.tar.gz -C /root/etc   #解压到目录中
    ~~~

5. zip命令
    > zip 压缩文件名 源文件        #压缩文件  
    > zip -r 压缩文件名 源目录   #压缩目录  
    > unzip 压缩文件名      #解压缩.zip 文件

6. dd命令

7. 非纯文本文档: -od

​	od 以二进制方式读取文档内容



# 文件权限

## 文件权限及归属

Linux系统中一切都是文件，区分文件类型常见的字符如下所示  

| 参数 | 作用                    |
| ---- | ----------------------- |
| -    | 普通文件                |
| d    | (directory)目录文件     |
| l    | （link)链接文件         |
| b    | (block)块设备文件       |
| c    | (character)字符设备文件 |
| p    | (pipe)管道文件          |
| s    | (socket)套接字文件      |

```
[root@cen ~]# ll test
-rw-r--r-- 1 root root 28 Apr  9 10:23 test

包含了文件的类型、访问权限、所有者（属主）、所属组（属组）、占用的磁盘大小、修改时间和文件名称等信息。
通过分析可知，该文件的类型为普通文件
所有者权限为可读、可写(rw-)
所属组权限为可读(r--)
除此以外的其他人也只有可读权限(r--)
文件的磁盘占用大小是28字节
最近一次的修改时间为4月9日 10:23分
文件的名称为 test
```

| 权限     | 读     | 写     | 执行   | 读     | 写     | 执行   | 读       | 写       | 执行     |
| -------- | ------ | ------ | ------ | ------ | ------ | ------ | -------- | -------- | -------- |
| 字符表示 | r      | w      | x      | r      | w      | x      | r        | w        | x        |
| 数字表示 | 4      | 2      | 1      | 4      | 2      | 1      | 4        | 2        | 1        |
| 权限分配 | 所有者 | 所有者 | 所有者 | 所属组 | 所属组 | 所属组 | 其他用户 | 其他用户 | 其他用户 |

## chmod 更改文件或目录 读写等权限

> https://www.cnblogs.com/peida/archive/2012/11/29/2794010.html

> chmod [参数] [文件/目录]  
> u：文件所有者， g：文件属组，o：其他用户， a：所有用户

| 参数 | 作用                                                         |
| ---- | ------------------------------------------------------------ |
| -c   | 若该文件权限确实已经更改，才显示其更改动作                   |
| -f   | 若该文件权限无法被更改也不显示错误讯息                       |
| -v   | 显示权限变更的详细资                                         |
| -R   | 对目前目录下的所有文件与子目录进行相同的权限变更(即以递回的方式逐个变更) |

```
chmod a+r files   #给其所有添加读权限
chmod -R a+r *    #将目前目录下的所有文件与子目录皆设为任何人可读取
chmod o=---       #修改其他用户权限
shmod 777 files   #修改文件权限
```





## 1.文件预设权限:-umask

## 2.档案隐藏属性:-chattr,-lsattr

## 3.特殊权限:-SUID,-SGID,-SBIT

## 4.查看文件类型:-file



# 搜寻命令与文件

## 1.命令搜索:-which

## 2.文件名搜寻

# 权限与命令间的关系



